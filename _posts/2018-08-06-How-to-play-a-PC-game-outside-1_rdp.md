---
layout: post
title: 外でPCゲームをする方法その1（rdp編）
tags:
categories: setting
date: 2018-08-06 03:08:24 +0900
---

この記事はリモートでPCゲームをする方法（rdp編）の続き？と言ってもいいでしょう。 前回の記事では家庭内LANでPCゲームをする方法を紹介しましたが、この記事では外でPCゲームをする方法を紹介します。

方法として
-----

リモートデスクトップを使って外でPCゲームをする方法として、下の二つの方法があります。

*   VPNをつなげてローカルIPでリモートデスクトップ接続する
*   ルータをポート開放してリモートデスクトップ接続する

**この記事では、VPNを使ったつなげてローカルIPでRDP接続する方法を紹介します。この方法が一番手っ取り早く、簡単にできる方法になると思います。(たぶん...(^^;))**

やっていく
-----

### 1．リモートデスクトップのホスト側にVPNサーバーをインストールする

VPN接続するために、リモートデスクトップのホスト側にVPNサーバーを導入します。 VPNサーバーのソフトとして、softetherVPNを使わせていただきます。 [SoftetherVPNのダウンロード](https://www.softether-download.com/ja.aspx?product=softether) ここから ![](../../../../images/app/server/softether/download.png) こんな感じで選択すると、下の方にいっぱいダウンロードリンクが出てくるので、一番上にある物をダウンロードします。 ダウンロードしたものをインストールします。インストール方法は「はい」をクリックしまくるだけで問題ないです。

### 2．softetherVPNの設定をする

起動すると、 ![](../../../../images/app/server/softether/1.png) 接続をクリックします。 すると、パスワードを作成しろというダイアログが出てくるので、適当にパスワードを考えて打ちます。 そうすると、 ![](../../../../images/app/server/softether/2.png) 簡易セットアップが出てくるので、一番上にあるリモートアクセスVPNサーバーにチェックボックスを入れて、次へを選択します。 次にいろいろ出てきますが、すべてOK又は次へを選択して進みまくってください。 ![](../../../../images/app/server/softether/3.png) すると、上のようなメインメニューが出てきます。今回はVPN Azureを使うので、VPN Azure設定を選択します。 ![](../../../../images/app/server/softether/4.jpg) すると、上のような画面が出てくるので、VPN Azureを有効にするにチェックボックスを入れて、OKを押します。（ホスト名の変更で***.vpnazure.netの***の部分を自分で決めることができます） VPN Azureホスト名というところをどこかしらにメモっておきます。 これでAzureを使ったVPNが使用できるようになりました。しかし、VPNをつなげた際に誰が接続しているのかわからないためユーザーを追加してやる必要が出てきます。 そこで、ユーザーの追加を行います。 メインメニュー内の仮想HUBの管理を選択します。 ![](../../../../images/app/server/softether/5.png) ユーザーの管理を選択します。 ![](../../../../images/app/server/softether/6.jpg) すると、こんな画面が出てくるので、新規作成を選択してユーザーを登録します。 ![](../../../../images/app/server/softether/7.png) ユーザー名とパスワード認証の欄を入力するだけで十分です。 それらが入力できたらOKをクリックします。 これでホスト側の設定は終了です。

### 3．接続してみる

やっとここまで来ました。もう少しなので頑張ってください。(^^) ここからはクライアント側（RDPで繋ぐ側）のパソコンの設定に入ります。 設定－＞ネットワークとインターネット－＞VPNまでいきます。 ![](../../../../images/app/server/softether/VPN1.png) からVPN接続を追加するを選択します。 ![](../../../../images/app/server/softether/VPN2.png) VPNプロバイダ:Windows（ビルトイン） 接続名:名前（なんでもいい） サーバー名またはアドレス:***.vpnazure.net（VPN Azureホスト名に書いてあるもの） VPNの種類:自動 サインイン情報の種類:ユーザー名とパスワード ユーザー名:（先ほどユーザー名で設定したものを入力） パスワード:（先ほどパスワードで設定したものを入力） 入力し終えたら、保存をクリックして保存します。

### 4．VPNのつなげ方

ーーーVPNをつなげる前に注意ーーー VPNサーバーを立てている同一ネットワーク内にクライアントを接続している状態ではVPNには繋がりません。VPNは同一ネットワーク外からアクセスする時のみ有効です。なので、同じネットワークで繋いでいる場合は、一時的にVPNをつなげる側のPCの接続を切って、スマホのテザリングか、公共無線サービスからアクセスしてください。   至ってシンプルで、 ![](../../../../images/app/server/softether/windows10-wifi.png) ネットワークのマーク（Wifiマーク）をクリックすると ![](../../../../images/app/server/softether/vpn-client.jpg) このようなものが出てくるので、Wifiのアクセスポイントの上のところにVPN一覧が増えているのでそれをクリックして接続をクリックすると家の自宅ネットワークにつなげることが出来ます。 その後は、 ![](../../../../images/app/server/softether/rdpclient.png) 前回と同じように接続すると、外からでも家のPCでゲームをすることができます。

まとめ
---

このようなやり方で、VPNを使ったリモートデスクトップの接続方法を紹介しました。 VPNを使った方法でこのように出来ます。 次回は、ポート開放によるリモートデスクトップ接続の方法を紹介します。